{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/benash/FinalProject/TicketMarket/frontend/src/pages/LoginPage.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Container, Typography, Box, TextField, Button, Paper, Alert } from \"@mui/material\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  var _location$state;\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [error, setError] = useState(\"\");\n  const message = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.message) || \"\";\n  const validationSchema = Yup.object({\n    email: Yup.string().email(\"Invalid email address\").required(\"Email is required\"),\n    password: Yup.string().required(\"Password is required\")\n  });\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema,\n    onSubmit: async values => {\n      try {\n        await login(values);\n        navigate(\"/dashboard\");\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || \"Login failed. Please check your credentials.\");\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          mb: 2\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: formik.handleSubmit,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          fullWidth: true,\n          id: \"email\",\n          name: \"email\",\n          label: \"Email Address\",\n          autoComplete: \"email\",\n          autoFocus: true,\n          value: formik.values.email,\n          onChange: formik.handleChange,\n          error: formik.touched.email && Boolean(formik.errors.email),\n          helperText: formik.touched.email && formik.errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          fullWidth: true,\n          id: \"password\",\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          autoComplete: \"current-password\",\n          value: formik.values.password,\n          onChange: formik.handleChange,\n          error: formik.touched.password && Boolean(formik.errors.password),\n          helperText: formik.touched.password && formik.errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          disabled: formik.isSubmitting,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"text\",\n          onClick: () => navigate(\"/register\"),\n          children: \"Don't have an account? Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"9VSpNixlXCJH7IIjqv0K/w7I98I=\", false, function () {\n  return [useAuth, useNavigate, useLocation, useFormik];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useNavigate","useLocation","Container","Typography","Box","TextField","Button","Paper","Alert","useFormik","Yup","useAuth","jsxDEV","_jsxDEV","LoginPage","_location$state","login","navigate","location","error","setError","message","state","validationSchema","object","email","string","required","password","formik","initialValues","onSubmit","values","err","_err$response","_err$response$data","response","data","detail","maxWidth","children","elevation","sx","p","mt","variant","component","align","gutterBottom","fileName","lineNumber","columnNumber","severity","mb","handleSubmit","noValidate","margin","fullWidth","id","name","label","autoComplete","autoFocus","value","onChange","handleChange","touched","Boolean","errors","helperText","type","color","disabled","isSubmitting","onClick","_c","$RefreshReg$"],"sources":["/Users/benash/FinalProject/TicketMarket/frontend/src/pages/LoginPage.js"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useNavigate, useLocation } from \"react-router-dom\"\nimport { Container, Typography, Box, TextField, Button, Paper, Alert } from \"@mui/material\"\nimport { useFormik } from \"formik\"\nimport * as Yup from \"yup\"\nimport { useAuth } from \"../context/AuthContext\"\n\nconst LoginPage = () => {\n  const { login } = useAuth()\n  const navigate = useNavigate()\n  const location = useLocation()\n  const [error, setError] = useState(\"\")\n  const message = location.state?.message || \"\"\n\n  const validationSchema = Yup.object({\n    email: Yup.string().email(\"Invalid email address\").required(\"Email is required\"),\n    password: Yup.string().required(\"Password is required\"),\n  })\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        await login(values)\n        navigate(\"/dashboard\")\n      } catch (err) {\n        setError(err.response?.data?.detail || \"Login failed. Please check your credentials.\")\n      }\n    },\n  })\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper elevation={3} sx={{ p: 4, mt: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" align=\"center\" gutterBottom>\n          Sign In\n        </Typography>\n\n        {message && (\n          <Alert severity=\"success\" sx={{ mb: 2 }}>\n            {message}\n          </Alert>\n        )}\n\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        <Box component=\"form\" onSubmit={formik.handleSubmit} noValidate>\n          <TextField\n            margin=\"normal\"\n            fullWidth\n            id=\"email\"\n            name=\"email\"\n            label=\"Email Address\"\n            autoComplete=\"email\"\n            autoFocus\n            value={formik.values.email}\n            onChange={formik.handleChange}\n            error={formik.touched.email && Boolean(formik.errors.email)}\n            helperText={formik.touched.email && formik.errors.email}\n          />\n\n          <TextField\n            margin=\"normal\"\n            fullWidth\n            id=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            autoComplete=\"current-password\"\n            value={formik.values.password}\n            onChange={formik.handleChange}\n            error={formik.touched.password && Boolean(formik.errors.password)}\n            helperText={formik.touched.password && formik.errors.password}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            sx={{ mt: 3, mb: 2 }}\n            disabled={formik.isSubmitting}\n          >\n            Sign In\n          </Button>\n\n          <Button fullWidth variant=\"text\" onClick={() => navigate(\"/register\")}>\n            Don't have an account? Register\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  )\n}\n\nexport default LoginPage\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}